local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Seruna X Hub V2 [Ultra New]", "Sentinel")
local Tab = Window:NewTab("Main")
local Section = Tab:NewSection("Menu")
Section:NewToggle("Auto Farm Normal [Not Bug]", "Auto Farm Normal", function(state)
getgenv().TreasureAutoFarm = {
    Enabled = true, -- // Toggle the auto farm on and off
    Teleport = 2, -- // How fast between each teleport between the stages and stuff
    TimeBetweenRuns = 3 -- // How long to wait until it goes to the next run
}

-- // Services
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")

-- // Vars
local LocalPlayer = Players.LocalPlayer

-- // Goes through all of the stages
local autoFarm = function(currentRun)
    -- // Variables
    local Character = LocalPlayer.Character
    local NormalStages = Workspace.BoatStages.NormalStages

    -- // Go to each stage thing
    for i = 1, 10 do
        local Stage = NormalStages["CaveStage" .. i]
        local DarknessPart = Stage:FindFirstChild("DarknessPart")

        if (DarknessPart) then
            -- // Teleport to next stage
            print("Teleporting to next stage: Stage " .. i)
            Character.HumanoidRootPart.CFrame = DarknessPart.CFrame

            -- // Create a temp part under you
            local Part = Instance.new("Part", LocalPlayer.Character)
            Part.Anchored = true
            Part.Position = LocalPlayer.Character.HumanoidRootPart.Position - Vector3.new(0, 6, 0)

            -- // Wait and remove temp part
            wait(getgenv().TreasureAutoFarm.Teleport)
            Part:Destroy()
        end
    end

    -- // Go to end
    print("Teleporting to the end")
    repeat wait()
        Character.HumanoidRootPart.CFrame = NormalStages.TheEnd.GoldenChest.Trigger.CFrame
    until Lighting.ClockTime ~= 14

    -- // Wait until you have respawned
    local Respawned = false
    local Connection
    Connection = LocalPlayer.CharacterAdded:Connect(function()
        Respawned = true
        Connection:Disconnect()
    end)

    repeat wait() until Respawned
    wait(getgenv().TreasureAutoFarm.TimeBetweenRuns)
    print("Auto Farm: Run " .. currentRun .. " finished")
end

-- // Whilst the autofarm is enable, constantly do it
local autoFarmRun = 1
while wait() do
    if (getgenv().TreasureAutoFarm.Enabled) then
        print("Initialising Auto Farm: Run " .. autoFarmRun)
        autoFarm(autoFarmRun)
        autoFarmRun = autoFarmRun + 1
    end
end
end)

Section:NewToggle("Auto Farm Fast [Not Bug]", "Auto Farm Fast", function(state)
getgenv().TreasureAutoFarm = {
    Enabled = true, -- // Toggle the auto farm on and off
    Teleport = 1, -- // How fast between each teleport between the stages and stuff
    TimeBetweenRuns = 1 -- // How long to wait until it goes to the next run
}

-- // Services
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")

-- // Vars
local LocalPlayer = Players.LocalPlayer

-- // Goes through all of the stages
local autoFarm = function(currentRun)
    -- // Variables
    local Character = LocalPlayer.Character
    local NormalStages = Workspace.BoatStages.NormalStages

    -- // Go to each stage thing
    for i = 1, 10 do
        local Stage = NormalStages["CaveStage" .. i]
        local DarknessPart = Stage:FindFirstChild("DarknessPart")

        if (DarknessPart) then
            -- // Teleport to next stage
            print("Teleporting to next stage: Stage " .. i)
            Character.HumanoidRootPart.CFrame = DarknessPart.CFrame

            -- // Create a temp part under you
            local Part = Instance.new("Part", LocalPlayer.Character)
            Part.Anchored = true
            Part.Position = LocalPlayer.Character.HumanoidRootPart.Position - Vector3.new(0, 6, 0)

            -- // Wait and remove temp part
            wait(getgenv().TreasureAutoFarm.Teleport)
            Part:Destroy()
        end
    end

    -- // Go to end
    print("Teleporting to the end")
    repeat wait()
        Character.HumanoidRootPart.CFrame = NormalStages.TheEnd.GoldenChest.Trigger.CFrame
    until Lighting.ClockTime ~= 14

    -- // Wait until you have respawned
    local Respawned = false
    local Connection
    Connection = LocalPlayer.CharacterAdded:Connect(function()
        Respawned = true
        Connection:Disconnect()
    end)

    repeat wait() until Respawned
    wait(getgenv().TreasureAutoFarm.TimeBetweenRuns)
    print("Auto Farm: Run " .. currentRun .. " finished")
end

-- // Whilst the autofarm is enable, constantly do it
local autoFarmRun = 1
while wait() do
    if (getgenv().TreasureAutoFarm.Enabled) then
        print("Initialising Auto Farm: Run " .. autoFarmRun)
        autoFarm(autoFarmRun)
        autoFarmRun = autoFarmRun + 1
    end
end
end)

Section:NewToggle("Anti AFK", "ANTI AFK", function(state)
loadstring(game:HttpGet("https://raw.githubusercontent.com/peatchXD/Roblox-Script-AFK/main/Script%20AFK.lua"))()
end)

local Section = Tab:NewSection("Remove Fog")

Section:NewToggle("Remove Fog", "Remove Fog", function(state)
game.Lighting.FogEnd = 100000
game.Lighting.FogStart = 0
game.Lighting.ClockTime = 14
game.Lighting.Brightness = 2
game.Lighting.GlobalShadows = false
end)

local Tab = Window:NewTab("Teleport")
local Section = Tab:NewSection("Teleport")

Section:NewButton("Teleport To Blue Team", "Teleport To Blue Team", function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(367.974213, -9.90197086, 299.72049, 0.00207350752, 5.77711816e-08, 0.999997854, -1.46216816e-10, 1, -5.7771004e-08, -0.999997854, -2.64278998e-11, 0.00207350752)
end)

Section:NewButton("Teleport To Green Team", "Teleport To Green Team", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-477.103729, -9.90197086, 293.722473, -0.0118726091, -6.24329886e-08, -0.999929547, -3.15983471e-08, 1, -6.2062206e-08, 0.999929547, 3.08592796e-08, -0.0118726091)
end)

Section:NewButton("Teleport To Yellow Team", "Teleport To Yellow Team", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-475.022247, -9.90197086, 640.766724, -0.0917500034, -1.09219558e-08, -0.995782077, -6.44377551e-10, 1, -1.09088472e-08, 0.995782077, -3.59227148e-10, -0.0917500034)
end)

Section:NewButton("Teleport To Red Team", "Teleport To Red Team", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(367.626007, -9.90197086, -65.071785, -0.0313464925, 1.08780647e-07, 0.99950856, -2.8426439e-09, 1, -1.08923281e-07, -0.99950856, -6.25560981e-09, -0.0313464925)
end)

Section:NewButton("Teleport To Black Team", "", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-474.805603, -9.90197086, -69.4997177, -0.0266387537, -2.26721468e-08, -0.999645114, -5.60203994e-10, 1, -2.2665267e-08, 0.999645114, -4.37692903e-11, -0.0266387537)
end)

Section:NewButton("Teleport To Pink Team Team", "Teleport To Yellow Team", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(368.710663, -9.90197086, 646.741516, 0.00920647662, -8.49051958e-08, 0.999957621, 8.9186134e-09, 1, 8.48266808e-08, -0.999957621, 8.13728018e-09, 0.00920647662)
end)

local Section = Tab:NewSection("Win")

Section:NewButton("Teleport To Win", "", function()
game.Players.localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-52.286808, -360.406219, 9367.83496, -0.99965924, 1.88684979e-08, 0.026103884, 2.17836043e-08, 1, 1.11388907e-07, -0.026103884, 1.11919583e-07, -0.99965924)
end)

local Tab = Window:NewTab("Player")
local Section = Tab:NewSection("Player")

players = {}

for i,v in pairs(game:GetService("Players"):GetChildren()) do
   table.insert(players,v.Name)
  end

Section:NewDropdown("Select Player ", "DropdownInf", players, function(abc)
    Select = abc
end)

Section:NewButton("Refresh", "Cilck to reset players", function()
    table.clear(players)
for i,v in pairs(game:GetService("Players"):GetChildren()) do
    table.insert(players,v.Name)
end
end)

Section:NewButton("Teleport", "ButtonInfo", function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players[Select].Character.HumanoidRootPart.CFrame
end)

local Section = Tab:NewSection("ESP Players")

Section:NewToggle("ESP Players", "ToggleInfo", function(state)
local FillColor = Color3.fromRGB(175,25,255)
local DepthMode = "AlwaysOnTop"
local FillTransparency = 0.5
local OutlineColor = Color3.fromRGB(255,255,255)
local OutlineTransparency = 0

local CoreGui = game:FindService("CoreGui")
local Players = game:FindService("Players")
local lp = Players.LocalPlayer
local connections = {}

local Storage = Instance.new("Folder")
Storage.Parent = CoreGui
Storage.Name = "Highlight_Storage"

local function Highlight(plr)
    local Highlight = Instance.new("Highlight")
    Highlight.Name = plr.Name
    Highlight.FillColor = FillColor
    Highlight.DepthMode = DepthMode
    Highlight.FillTransparency = FillTransparency
    Highlight.OutlineColor = OutlineColor
    Highlight.OutlineTransparency = 0
    Highlight.Parent = Storage
    
    local plrchar = plr.Character
    if plrchar then
        Highlight.Adornee = plrchar
    end

    connections[plr] = plr.CharacterAdded:Connect(function(char)
        Highlight.Adornee = char
    end)
end

Players.PlayerAdded:Connect(Highlight)
for i,v in next, Players:GetPlayers() do
    Highlight(v)
end

Players.PlayerRemoving:Connect(function(plr)
    local plrname = plr.Name
    if Storage[plrname] then
        Storage[plrname]:Destroy()
    end
    if connections[plr] then
        connections[plr]:Disconnect()
    end
end)
end)
